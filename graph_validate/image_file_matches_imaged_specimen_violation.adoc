
## Test: Image file are derived from an imaged specimen

#### Test description

Image files are derived by a process that should be derived from an imaged specimen. This test returns any violations to this rule.

#### The test
[source,cypher]
----
MATCH x = (b:biomaterials)<-[:DERIVED_FROM]-(p:processes)<-[:DERIVED_FROM]-(f:files)
WHERE b.submissionID = '{submissionID}'
AND p.submissionID = '{submissionID}'
AND f.submissionID = '{submissionID}'
AND f.specificType = 'image_file'
AND NOT b.specificType = 'imaged_specimen'
RETURN b
----



.A note about all graph rule violation test
[NOTE]
===============================
* Each cypher snippet in '_violation.adoc' will be ran.
* The test passes if the cypher query returns no results.
* `True` is a pass, `False` is a fail.
* These tests can be renamed and added to as required.
===============================
